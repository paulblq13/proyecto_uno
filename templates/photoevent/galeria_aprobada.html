{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galer√≠a de Fotos</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* Altura completa de la ventana */
            background-color: #ffffff; /* Fondo suave */
        }     
        /* Estilos para mostrar la imagen en pantalla completa */
        .predeterminada {
            display: flex; /* Usar flexbox para centrar el contenido */
            justify-content: center; /* Centrar horizontalmente */
            align-items: center; /* Centrar verticalmente */
            width: auto; /* Asegurar que el contenedor use todo el ancho */
            height: 100%; /* Usar toda la altura de la ventana */
            overflow: hidden; /* Ocultar cualquier desbordamiento */
            background-color: #f7f7f7; /* Fondo suave para contraste */
            position: relative; /* Necesario para el posicionamiento absoluto del mensaje */
        }

        .galeria-aprobada {
            display: flex; /* Usar flexbox para centrar el contenido */
            justify-content: center; /* Centrar horizontalmente */
            align-items: center; /* Centrar verticalmente */
            overflow: hidden; /* Ocultar cualquier desbordamiento */
            background-color: #f7f7f7; /* Fondo suave para contraste */
            position: relative; /* Necesario para el posicionamiento absoluto del mensaje */
        }        
    
        .marco {
            border: 10px solid #f7f7f7;
            border-radius: 15px; /* Bordes redondeados para el marco */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* Sombra para el efecto de profundidad */
            padding: 10px; /* Espacio entre la imagen y el marco */
            transition: transform 0.5s; /* Transici√≥n suave al pasar el rat√≥n */
        }

    
        .foto {
            border-radius: 10px; /* Bordes redondeados en la imagen */
            height: 720px; /* Ajusta a la altura deseada */
            object-fit: cover; /* O 'contain' si quieres mantener la proporci√≥n */
        }
    
        /* Estilo para el mensaje */
        .mensaje {
            position: absolute; /* Posicionamiento absoluto para superponer */
            bottom: 50px; /* Espacio desde la parte inferior */
            left: 50%; /* Centrar horizontalmente */
            transform: translateX(-50%); /* Mover a la izquierda para centrar */
            color: #fff; /* Color blanco para el texto */
            background-color: rgba(0, 0, 0, 0.7); /* Fondo semi-transparente */
            padding: 15px 20px; /* Espaciado interno */
            border-radius: 10px; /* Bordes redondeados */
            font-size: 24px; /* Tama√±o de fuente mayor */
            z-index: 10; /* Asegurarse de que el mensaje est√© por encima de la imagen */
            text-align: center; /* Centrar el texto */
            font-family: 'Dancing Script', cursive; /* Fuente elegante (ejemplo) */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); /* Sombra para el texto */
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

</head>
<body>
    <div>

        {% if mostrar_predeterminada %}
        <div class="predeterminada">
            <img src="{% static 'img/XVdeserena.png' %}" alt="Imagen Predeterminada">
        </div>     
            <script>
                setTimeout(function() {
                    // Redirigir a la URL sin ID
                    window.location.href = "{% url 'galeria' %}";
                }, 10000); // Espera de 10 segundos antes de cambiar
            </script>
            {% if mostrar_predeterminada_salir %} mostrar_predeterminada_salir
                    <!-- Si no es la √∫ltima foto, avanzar autom√°ticamente a la siguiente -->
                    <script>
                        setTimeout(function() {
                            window.location.href = "{% url 'galeria' siguiente_index  %}";
                        }, 5000); // 10 segundos para la siguiente foto
                    </script>            
            {% endif %}        
        {% else %}
            {% if foto_actual %}
            <div class="galeria-aprobada">
                <div class="marco">
                    <img class="foto" src="{{ foto_actual.imagen.url }}" alt="{{ foto_actual.mensaje }}">
                    <div class="mensaje"> üéâ{{ foto_actual.mensaje }}</div>
                </div>
            </div>    
                {% if ultima_foto %}
                    <!-- Mostrar √∫ltima foto por 10 segundos antes de redirigir a la imagen predeterminada -->
                    <script>
                        setTimeout(function() {
                            // Redirigir a la URL sin ID
                            window.location.href = "{% url 'galeria' %}";
                        }, 5000); // Espera de 10 segundos antes de cambiar
                    </script>
                {% else %}
                    <!-- Si no es la √∫ltima foto, avanzar autom√°ticamente a la siguiente -->
                    <script>
                        setTimeout(function() {
                            window.location.href = "{% url 'galeria' siguiente_index  %}";
                        }, 5000); // 10 segundos para la siguiente foto
                    </script>
                {% endif %}          
            {% endif %}
        {% endif %}
    </div>
</body>
</html>
